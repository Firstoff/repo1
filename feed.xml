<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>Cyberflat.ru</title>
    <link href="https://cyberflat.ru/feed.xml" rel="self" />
    <link href="https://cyberflat.ru" />
    <updated>2023-05-23T09:48:01+03:00</updated>
    <author>
        <name>Korchagin</name>
    </author>
    <id>https://cyberflat.ru</id>

    <entry>
        <title>22 мая 2023</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/22-maya-2023/"/>
        <id>https://cyberflat.ru/22-maya-2023/</id>
        <media:content url="https://cyberflat.ru/media/posts/15/photo_2023-05-23_09-13-51.jpg" medium="image" />
            <category term="agrofitness"/>

        <updated>2023-05-23T09:48:01+03:00</updated>
            <summary></summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/15/photo_2023-05-23_09-13-51.jpg" class="type:primaryImage" alt="" /></p>
                
  <div  class="gallery-wrapper">
    <div class="gallery" data-columns="3">
      <figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-49.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-49-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-46.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-46-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-44.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-44-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-42.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-42-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-40.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-40-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-38.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-38-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-36.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-36-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-34.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-34-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-32.jpg" data-size="1280x722">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-32-thumbnail.jpg" height="433" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-30.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-30-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-28.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-28-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-26.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-26-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-24.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-24-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-22.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-22-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-20.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-20-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-18.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/15/gallery/photo_2023-05-23_09-13-18-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure>
    </div>
  </div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Делаем компостер из 20 трубы</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/delaem-komposter-iz-20-truby/"/>
        <id>https://cyberflat.ru/delaem-komposter-iz-20-truby/</id>
        <media:content url="https://cyberflat.ru/media/posts/13/photo_2023-05-20_11-04-00.jpg" medium="image" />
            <category term="agrofitness"/>

        <updated>2023-05-22T13:27:38+03:00</updated>
            <summary></summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/13/photo_2023-05-20_11-04-00.jpg" class="type:primaryImage" alt="" /></p>
                
  <div  class="gallery-wrapper">
    <div class="gallery" data-columns="3">
      <figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-20_11-03-50.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-20_11-03-50-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-20_11-03-48.jpg" data-size="1280x722">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-20_11-03-48-thumbnail.jpg" height="433" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-20_11-03-45.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-20_11-03-45-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-22_13-26-50.jpg" data-size="720x1280">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/13/gallery/photo_2023-05-22_13-26-50-thumbnail.jpg" height="1280" width="720" alt="" >
      </a>
      
    </figure>
    </div>
  </div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>New 20 may 2023</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/new-20-may-2023/"/>
        <id>https://cyberflat.ru/new-20-may-2023/</id>
        <media:content url="https://cyberflat.ru/media/posts/12/photo_2023-05-20_11-04-30.png" medium="image" />
            <category term="agrofitness"/>

        <updated>2023-05-20T11:13:14+03:00</updated>
            <summary>
                <![CDATA[
                        <img src="https://cyberflat.ru/media/posts/12/photo_2023-05-20_11-04-30.png" alt="" />
                    Вчера привезли бочку пластиковую, объемом 278 л, по цене 2000 рэ, была наполнена четвертичной солью аммония, что-то для моющих средств или типа того, отмылась щеткой холодной водой без проблем, состав не вонючий, типа жидкого мыла, желающим искать по sunqat-seq90. Бочка поставлена служить емкостью для полива.
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/12/photo_2023-05-20_11-04-30.png" class="type:primaryImage" alt="" /></p>
                
  <p>
    Вчера привезли бочку пластиковую, объемом 278 л, по цене 2000 рэ, была наполнена четвертичной солью аммония, что-то для моющих средств или типа того, отмылась щеткой холодной водой без проблем, состав не вонючий, типа жидкого мыла, желающим искать по sunqat-seq90.<br>Бочка поставлена служить емкостью для полива.<br><br>
  </p>

    <figure class="post__image post__image--center">
      <img loading="lazy" src="https://cyberflat.ru/media/posts/12/photo_2023-05-20_11-04-30.jpg" height="1280" width="720" alt=""  sizes="(max-width: 48em) 100vw, 768px" srcset="https://cyberflat.ru/media/posts/12/responsive/photo_2023-05-20_11-04-30-xs.jpg 300w ,https://cyberflat.ru/media/posts/12/responsive/photo_2023-05-20_11-04-30-sm.jpg 480w ,https://cyberflat.ru/media/posts/12/responsive/photo_2023-05-20_11-04-30-md.jpg 768w ,https://cyberflat.ru/media/posts/12/responsive/photo_2023-05-20_11-04-30-lg.jpg 1024w ,https://cyberflat.ru/media/posts/12/responsive/photo_2023-05-20_11-04-30-xl.jpg 1360w ,https://cyberflat.ru/media/posts/12/responsive/photo_2023-05-20_11-04-30-2xl.jpg 1600w">
      
    </figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>19 мая 2023</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/19-maya-2023/"/>
        <id>https://cyberflat.ru/19-maya-2023/</id>
        <media:content url="https://cyberflat.ru/media/posts/14/photo_2023-05-20_11-04-07.jpg" medium="image" />
            <category term="cats"/>

        <updated>2023-05-20T11:15:57+03:00</updated>
            <summary></summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/14/photo_2023-05-20_11-04-07.jpg" class="type:primaryImage" alt="" /></p>
                
  <div  class="gallery-wrapper">
    <div class="gallery" data-columns="3">
      <figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/14/gallery/photo_2023-05-20_11-04-27.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/14/gallery/photo_2023-05-20_11-04-27-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/14/gallery/photo_2023-05-20_11-04-25.jpg" data-size="1280x720">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/14/gallery/photo_2023-05-20_11-04-25-thumbnail.jpg" height="432" width="768" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/14/gallery/photo_2023-05-20_11-04-07.jpg" data-size="1280x647">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/14/gallery/photo_2023-05-20_11-04-07-thumbnail.jpg" height="388" width="768" alt="" >
      </a>
      
    </figure>
    </div>
  </div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Котики от Кандинского</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/kotiki-ot-kandinskogo/"/>
        <id>https://cyberflat.ru/kotiki-ot-kandinskogo/</id>
        <media:content url="https://cyberflat.ru/media/posts/11/kandinsky-download-1681320953380.png" medium="image" />
            <category term="cyberpunk"/>
            <category term="chatgpt"/>
            <category term="cats"/>

        <updated>2023-04-30T18:52:22+03:00</updated>
            <summary></summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/11/kandinsky-download-1681320953380.png" class="type:primaryImage" alt="" /></p>
                
  <div  class="gallery-wrapper">
    <div class="gallery" data-columns="3">
      <figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276729030.png" data-size="767x767">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276729030-thumbnail.png" height="767" width="767" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276552081.png" data-size="767x767">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276552081-thumbnail.png" height="767" width="767" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276514960.png" data-size="767x767">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276514960-thumbnail.png" height="767" width="767" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276469821.png" data-size="767x767">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682276469821-thumbnail.png" height="767" width="767" alt="" >
      </a>
      
    </figure><figure class="gallery__item">
      <a href="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682264962722.png" data-size="765x765">
        <img loading="lazy" src="https://cyberflat.ru/media/posts/11/gallery/kandinsky-download-1682264962722-thumbnail.png" height="765" width="765" alt="" >
      </a>
      
    </figure>
    </div>
  </div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Резервация DHCP</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/rezervaciya-dhcp/"/>
        <id>https://cyberflat.ru/rezervaciya-dhcp/</id>
        <media:content url="https://cyberflat.ru/media/posts/10/kandinsky-download-1682868496215.png" medium="image" />
            <category term="powershell"/>
            <category term="dhcp"/>

        <updated>2023-04-30T18:28:34+03:00</updated>
            <summary>
                <![CDATA[
                        <img src="https://cyberflat.ru/media/posts/10/kandinsky-download-1682868496215.png" alt="" />
                    Код PowerShell для обработки ошибок при проверке наличия резервации на адрес DHCP и запрашивать резервацию, если ее нет: # Получаем текущие настройки DHCP $dhcpServer = "DHCP-Server" $scopeID = "192.168.1.0" $address = "192.168.1.10" $ReservationName = "TestRes" $ReservationComment = "Test comment" # Проверяем наличие резервации на адресе&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/10/kandinsky-download-1682868496215.png" class="type:primaryImage" alt="" /></p>
                
  <p>
    Код PowerShell для обработки ошибок при проверке наличия резервации на адрес DHCP и запрашивать резервацию, если ее нет:
  </p>
<pre class="line-numbers  language-visual-basic"><code># Получаем текущие настройки DHCP
$dhcpServer = "DHCP-Server"
$scopeID = "192.168.1.0"
$address = "192.168.1.10"
$ReservationName = "TestRes"
$ReservationComment = "Test comment"

# Проверяем наличие резервации на адресе
$Reservation = Get-DhcpServerv4Reservation -ComputerName $dhcpServer -ScopeId $scopeID -IPAddress $address -ErrorAction SilentlyContinue

if($Reservation -eq $null){
   # Если резервации на адресе нет, то запрашиваем у пользователя резервировать ли его
   $result = Read-Host "Резервировать ли адрес $address? (Да/Нет)"
   if($result.ToLower() -eq "да"){
       # Если пользователь согласился на резервацию, тогда создаем новую резервацию
       Add-DhcpServerv4Reservation -ComputerName $dhcpServer -ScopeId $scopeID -IPAddress $address -ClientIdentifier '00-11-22-33-44-55' -Name $ReservationName -Comment $ReservationComment
       Write-Host "Резервация на адрес $address успешно создана"
   }else{
       Write-Host "Резервация на адрес $address отменена пользователем"
   }
}else{
   # Если резервация на адресе уже есть, тогда выводим сообщение об этом
   Write-Host "Резервация на адрес $address уже существует"
}</code></pre>

  <p>
    Этот код проверяет наличие резервации на адресе DHCP, запрашивает подтверждение на резервацию, если ее нет, и создает новую резервацию в случае подтверждения. Если резервация уже существует, то скрипт просто выводит сообщение об этом. Учитывайте, что в этом коде некоторые переменные могут отличаться от Ваших текущих настроек DHCP и функций резервации.
  </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Моцартов побеждает Сальерина</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/mocartov-pobezhdaet-salerina/"/>
        <id>https://cyberflat.ru/mocartov-pobezhdaet-salerina/</id>
        <media:content url="https://cyberflat.ru/media/posts/9/kandinsky-download-1682867724847.png" medium="image" />
            <category term="chatgpt"/>

        <updated>2023-04-30T18:17:39+03:00</updated>
            <summary>
                <![CDATA[
                        <img src="https://cyberflat.ru/media/posts/9/kandinsky-download-1682867724847.png" alt="" />
                    Вольфганг Амадеевич Моцартов (1756-1791) – австрийский композитор, который считается одним из самых значительных и талантливых музыкантов XVIII века. Он начал сочинять музыку еще в детстве и был признан гением своего времени уже в юном возрасте. Моцарт написал более 600 произведений различных жанров, таких как оперы,&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/9/kandinsky-download-1682867724847.png" class="type:primaryImage" alt="" /></p>
                
  <p>
    Вольфганг Амадеевич Моцартов (1756-1791) – австрийский композитор, который считается одним из самых значительных и талантливых музыкантов XVIII века. Он начал сочинять музыку еще в детстве и был признан гением своего времени уже в юном возрасте. Моцарт написал более 600 произведений различных жанров, таких как оперы, симфонии, концерты, камерная музыка, а также музыку для церковных служб.
<br>
<br>Антонио Сальери́н (1750-1825) – итальянский композитор, который работал на различных европейских дворах, включая двор Вены. Он написал много опер, кантат и другой музыки, которая получила высокую оценку своего времени.
<br>
<br>Сальерин и Моцартов были коллегами и знакомы друг с другом. Некоторые исследователи полагают, что между ними была конкуренция в мире музыки, но исторических доказательств того, что Сальери был причастен к гибели Моцарта, нет.
<br>
<br>Несмотря на то, что Моцартов и Сальерин поначалу сотрудничали в музыкальной индустрии, их творческие направления были разные. Моцартов был известен своим ярким стилем, полным эмоций и экспериментов, тогда как Сальерин был более консервативен в своих композициях. Однако оба композитора оставили свой след в истории музыки и до сих пор остаются значимыми фигурами классической музыки.
  </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Проверка блокировок на сервере</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/proverka-blokirovok-na-servere/"/>
        <id>https://cyberflat.ru/proverka-blokirovok-na-servere/</id>
        <media:content url="https://cyberflat.ru/media/posts/8/kandinsky-download-1682866221320.png" medium="image" />
            <category term="sql"/>

        <updated>2023-04-30T18:09:38+03:00</updated>
            <summary>
                <![CDATA[
                        <img src="https://cyberflat.ru/media/posts/8/kandinsky-download-1682866221320.png" alt="" />
                    ```sql SET NOCOUNT ON GO SELECT SPID, BLOCKED, REPLACE (REPLACE (T.TEXT, CHAR(10), ' '), CHAR (13), ' ' ) AS BATCH INTO #T FROM sys.sysprocesses R CROSS APPLY sys.dm_exec_sql_text(R.SQL_HANDLE) T GO WITH BLOCKERS (SPID, BLOCKED, LEVEL, BATCH) AS ( SELECT SPID, BLOCKED, CAST (REPLICATE ('0',&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/8/kandinsky-download-1682866221320.png" class="type:primaryImage" alt="" /></p>
                <pre class="line-numbers  language-html"><code>```sql
SET NOCOUNT ON
GO
SELECT SPID, BLOCKED, REPLACE (REPLACE (T.TEXT, CHAR(10), ' '), CHAR (13), ' ' ) AS BATCH
INTO #T
FROM sys.sysprocesses R CROSS APPLY sys.dm_exec_sql_text(R.SQL_HANDLE) T
GO
WITH
BLOCKERS (SPID, BLOCKED, LEVEL, BATCH)
AS
(
SELECT SPID,
BLOCKED,
CAST (REPLICATE ('0', 4-LEN (CAST (SPID AS VARCHAR))) + CAST (SPID AS VARCHAR) AS VARCHAR (1000)) AS LEVEL,
BATCH
FROM #T R
WHERE (BLOCKED = 0 OR BLOCKED = SPID)
AND EXISTS (SELECT *
FROM #T R2
WHERE R2.BLOCKED = R.SPID AND R2.BLOCKED &lt;&gt; R2.SPID)
UNION ALL
SELECT R.SPID,
R.BLOCKED,
CAST (BLOCKERS.LEVEL + RIGHT (CAST ((1000 + R.SPID) AS VARCHAR (100)), 4) AS VARCHAR (1000)) AS LEVEL,
R.BATCH
FROM #T AS R
INNER JOIN BLOCKERS ON R.BLOCKED = BLOCKERS.SPID
WHERE R.BLOCKED &gt; 0 AND R.BLOCKED &lt;&gt; R.SPID
)
SELECT N' ' + REPLICATE (N'| ', LEN (LEVEL)/4 - 1) +
CASE WHEN (LEN(LEVEL)/4 - 1) = 0
THEN 'HEAD - '
ELSE '|------ ' END
+ CAST (SPID AS NVARCHAR (10)) + N' ' + BATCH AS BLOCKING_TREE
FROM BLOCKERS
ORDER BY LEVEL ASC
GO
DROP TABLE #T
GO
```</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>поминутная статистика загрузки цпу за последние 255 минут</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/pominutnaya-statistika-zagruzki-cpu-za-poslednie-255-minut/"/>
        <id>https://cyberflat.ru/pominutnaya-statistika-zagruzki-cpu-za-poslednie-255-minut/</id>
        <media:content url="https://cyberflat.ru/media/posts/6/kandinsky-download-1682772070477.png" medium="image" />
            <category term="sql"/>

        <updated>2023-04-30T17:48:24+03:00</updated>
            <summary>
                <![CDATA[
                        <img src="https://cyberflat.ru/media/posts/6/kandinsky-download-1682772070477.png" alt="" />
                    ```sql DECLARE @ts BIGINT; DECLARE @lastNmin TINYINT; SET @lastNmin =255; SELECT @ts = (SELECT cpu_ticks / ( cpu_ticks / ms_ticks ) FROM sys.dm_os_sys_info); SELECT TOP(@lastNmin) Dateadd(ms, -1 * ( @ts - [timestamp] ), Getdate())AS [EventTime], sqlprocessutilization AS [SQL Server Utilization], 100 - systemidle - sqlprocessutilization&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <p><img src="https://cyberflat.ru/media/posts/6/kandinsky-download-1682772070477.png" class="type:primaryImage" alt="" /></p>
                <pre class="line-numbers  language-html"><code>```sql
DECLARE @ts BIGINT;
DECLARE @lastNmin TINYINT;
SET @lastNmin =255;
SELECT @ts = (SELECT cpu_ticks / ( cpu_ticks / ms_ticks )
FROM sys.dm_os_sys_info);
SELECT TOP(@lastNmin) Dateadd(ms, -1 * ( @ts - [timestamp] ), Getdate())AS
[EventTime],
sqlprocessutilization AS
[SQL Server Utilization],
100 - systemidle - sqlprocessutilization AS
[Other Process CPU_Utilization],
systemidle AS
[System Idle]
FROM (SELECT
record.value('(./Record/@id)[1]', 'int') AS record_id,
record.value('(./Record/SchedulerMonitorEvent/SystemHealth/SystemIdle)[1]', 'int') AS [SystemIdle],
record.value('(./Record/SchedulerMonitorEvent/SystemHealth/ProcessUtilization)[1]', 'int')AS [SQLProcessUtilization],
[timestamp]
FROM (SELECT[timestamp],
CONVERT(XML, record) AS [record]
FROM sys.dm_os_ring_buffers
WHERE ring_buffer_type = N'RING_BUFFER_SCHEDULER_MONITOR'
AND record LIKE'%%')AS x)AS y
ORDER BY record_id DESC;
```</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>MAXDOP</title>
        <author>
            <name>Korchagin</name>
        </author>
        <link href="https://cyberflat.ru/maxdop/"/>
        <id>https://cyberflat.ru/maxdop/</id>
            <category term="sql"/>

        <updated>2023-04-30T17:20:02+03:00</updated>
            <summary>
                <![CDATA[
                    sp_configure &#39;show advanced options&#39;, 1; go reconfigure; go sp_configure &#39;max degree of parallelism&#39;, 4; go reconfigure; go
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <pre><code class="language-sql">sp_configure &#39;show advanced options&#39;, 1;
go
reconfigure;
go
sp_configure &#39;max degree of parallelism&#39;, 4;
go
reconfigure;
go
</code></pre>

            ]]>
        </content>
    </entry>
</feed>
